{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/Epi2me-test/master/nextflow_schema.json",
  "title": "Epi2me-test pipeline parameters",
  "description": "Testing the loading of workflows into Epi2me.",
  "type": "object",
  "definitions": {
        "input_options": {
            "title": "Input Options",
            "type": "object",
            "fa_icon": "fas fa-terminal",
            "description": "Define where the pipeline should find input data and save output data.",
            "properties": {
                "input_read_dir": {
                    "type": "string",
                    "default": null
                },
                "backbone": {
                    "type": "string",
                    "default": "BB41"
                },
                "reference": {
                    "type": "string",
                    "default": null
                }
            },
            "required": [
                "input_read_dir",
                "reference"
            ]
        },
        "sample_options": {
            "title": "Sample Options",
            "type": "object",
            "default": "",
            "properties": {
                "sample_sheet": {
                    "type": "string",
                    "format": "file-path",
                    "description": "A CSV file used to map barcodes to sample aliases. The sample sheet can be provided when the input data is a directory containing sub-directories with FASTQ files. Used only with the minimap2 classifier.",
                    "help_text": "The sample sheet is a CSV file with, minimally, columns named `barcode` , `sample_id`,  `alias`. Extra columns are allowed. A `type` column is required for certain workflows and should have the following values; `test_sample`, `positive_control`, `negative_control`, `no_template_control`."
                },
                "sample": {
                    "type": "string",
                    "description": "A single sample name for non-multiplexed data. Permissible if passing a single .fastq(.gz) file or directory of .fastq(.gz) files."
                }
            },
            "description": "Parameters that relate to samples such as sample sheets and sample names."
        },
        "reference_options": {
            "title": "Reference Options",
            "type": "object",
            "description": "Files will be downloaded as part of the first run of workflow and automatically stored for subsequent runs.",
            "default": "",
            "properties": {
                "database_set": {
                    "type": "string",
                    "default": "ncbi_16s_18s",
                    "description": "Sets the reference, databases and taxonomy datasets that will be used for classifying reads. Choices: ['ncbi_16s_18s',ncbi_16s_18s_28s_ITS','PlusPF-8']",
                    "enum": [
                        "ncbi_16s_18s",
                        "ncbi_16s_18s_28s_ITS",
                        "PlusPF-8"
                    ],
                    "help_text": "This setting is overridable by providing an explicit taxonomy, database or reference path in the other reference options"
                }
            }
        },
        "output_options": {
            "title": "Output Options",
            "type": "object",
            "description": "Parameters for saving and naming workflow outputs.",
            "default": "",
            "properties": {
                "out_dir": {
                    "type": "string",
                    "format": "directory-path",
                    "default": "output",
                    "description": "Directory for output of all user-facing files."
                }
            }
        },
        "advanced_options": {
            "title": "Advanced Options",
            "type": "object",
            "description": "Advanced options for configuring processes inside the workflow.",
            "default": "",
            "properties": {
                "min_len": {
                    "type": "integer",
                    "default": 0,
                    "description": "Specify read length lower limit",
                    "help_text": "Any reads shorter than this limit will not be included in the analysis."
                },
                "max_len": {
                    "type": "integer",
                    "description": "Specify read length upper limit",
                    "help_text": "Any reads longer than this limit will not be included in the analysis."
                },
                "threads": {
                    "type": "integer",
                    "default": 2,
                    "description": "Number of CPU threads used for classifying reads.",
                    "help_text": "For the real-time kraken2 workflow, this is the number of CPU threads used by the kraken2 server (and the number of clients sending reads to the server). For the minimap2 workflow, it is the number of CPU threads used by minimap2. For the real-time kraken2 workflow the `threads` parameter should not be set to no more than 4 fewer than the executor CPU limit."
                }
            }
        },
        "miscellaneous_options": {
            "title": "Miscellaneous Options",
            "type": "object",
            "fa_icon": "fas fa-file-import",
            "description": "Everything else.",
            "help_text": "These options are common to all nf-core pipelines and allow you to customise some of the core preferences for how the pipeline runs.\n\nTypically these options would be set in a Nextflow config file loaded for all pipeline runs, such as `~/.nextflow/config`.",
            "properties": {
                "disable_ping": {
                    "type": "boolean",
                    "description": "Enable to prevent sending a workflow ping.",
                    "hidden": true
                },
                "help": {
                    "type": "boolean",
                    "description": "Display help text.",
                    "fa_icon": "fas fa-question-circle",
                    "hidden": true
                },
                "wfversion": {
                    "type": "string",
                    "description": "Workflow version.",
                    "default": "v2.0.8",
                    "hidden": true
                }
            }
        }   
    }
}
